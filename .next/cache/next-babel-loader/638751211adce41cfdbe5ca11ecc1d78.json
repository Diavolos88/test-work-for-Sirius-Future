{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport s from './graph.module.css';\nimport { Area, AreaChart, CartesianGrid, ResponsiveContainer, Tooltip, XAxis, YAxis } from \"recharts\";\nimport React from 'react';\nimport { updateFirstAC } from \"../../redux/firstGraphReduser\";\nimport { connect } from 'react-redux';\nexport default function MyGraph(_ref) {\n  var name1 = _ref.name1,\n      name2 = _ref.name2,\n      name3 = _ref.name3,\n      company = _ref.company;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: s.field,\n    children: [/*#__PURE__*/_jsx(\"button\", {\n      children: name1\n    }), /*#__PURE__*/_jsx(\"button\", {\n      children: name2\n    }), /*#__PURE__*/_jsx(\"button\", {\n      children: name3\n    }), /*#__PURE__*/_jsx(GraphContainer, {\n      company: company\n    })]\n  });\n}\n\nvar Graph = /*#__PURE__*/function (_React$Component) {\n  _inherits(Graph, _React$Component);\n\n  var _super = _createSuper(Graph);\n\n  function Graph(props) {\n    var _this;\n\n    _classCallCheck(this, Graph);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      money: 0,\n      moneyEarly: 0,\n      procent: 0,\n      update: true\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"timer\", void 0);\n\n    return _this;\n  }\n\n  _createClass(Graph, [{\n    key: \"createDates\",\n    value: function createDates() {\n      var now = new Date(); // @ts-ignore\n\n      return _toConsumableArray(Array(now.getDate() + 1).keys());\n    }\n  }, {\n    key: \"createValues\",\n    value: function createValues(dates) {\n      var vals = [];\n      dates.map(function (d) {\n        vals.push({\n          date: d,\n          value: Math.floor(Math.random() * 7)\n        });\n      });\n      return vals;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.timer = setInterval(function () {\n        _this2.setState(_objectSpread(_objectSpread({}, _this2.state), {}, {\n          update: !_this2.state.update\n        }));\n      }, 5000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.timer);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var dates = this.createDates().slice(1);\n      var data = this.createValues(dates);\n      var fullMany = 0;\n      data.forEach(function (e) {\n        fullMany += e.value;\n      });\n      var procentNow = 0;\n\n      if (this.state.moneyEarly) {\n        procentNow = Math.floor((fullMany - this.state.moneyEarly) / fullMany * 100);\n        this.state.procent = procentNow;\n      }\n\n      this.state.moneyEarly = fullMany;\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: s.graphContainer,\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: s.upperGraph,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: s.cash,\n            children: [\"\\u0412\\u044B\\u0440\\u0443\\u0447\\u043A\\u0430: \", /*#__PURE__*/_jsxs(\"div\", {\n              children: [/*#__PURE__*/_jsxs(\"span\", {\n                children: [fullMany, \" 000 \\u0440\\u0443\\u0431.\"]\n              }), \" \", /*#__PURE__*/_jsxs(\"span\", {\n                className: procentNow > 0 ? s.proc + \" \" + s.upper : s.proc + \" \" + s.fallen,\n                children: [/*#__PURE__*/_jsx(\"span\", {\n                  className: procentNow > 0 ? s.errow + \" \" + s.upper : s.errow + \" \" + s.fallen,\n                  children: \" \\u21AF \"\n                }), \" \", procentNow, \" %\"]\n              })]\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: this.props.company === \"yandex\" ? s.yandexLogo : s.paypalLogo\n          })]\n        }), /*#__PURE__*/_jsx(ResponsiveContainer, {\n          maxHeight: \"200px\",\n          width: \"100%\",\n          children: /*#__PURE__*/_jsxs(AreaChart, {\n            data: data,\n            margin: {\n              top: 20,\n              right: 30,\n              left: 10,\n              bottom: 10\n            },\n            children: [/*#__PURE__*/_jsx(\"defs\", {\n              children: /*#__PURE__*/_jsxs(\"linearGradient\", {\n                id: \"colorValue\",\n                x1: \"0\",\n                y1: \"0\",\n                x2: \"0\",\n                y2: \"1\",\n                children: [/*#__PURE__*/_jsx(\"stop\", {\n                  offset: \"5%\",\n                  stopColor: \"#8884d8\",\n                  stopOpacity: 0.8\n                }), /*#__PURE__*/_jsx(\"stop\", {\n                  offset: \"95%\",\n                  stopColor: \"#8884d8\",\n                  stopOpacity: 0.0\n                })]\n              })\n            }), /*#__PURE__*/_jsx(XAxis, {\n              dataKey: \"date\",\n              unit: \"\\u0441\\u0435\\u043D\"\n            }), /*#__PURE__*/_jsx(YAxis, {\n              unit: \"\\u0442\\u044B\\u0441. \\u20BD\"\n            }), /*#__PURE__*/_jsx(CartesianGrid, {\n              vertical: false,\n              strokeDashArray: \"3 3\"\n            }), /*#__PURE__*/_jsx(Tooltip, {\n              wrapperStyle: {\n                backgroundColor: \"red\"\n              },\n              labelStyle: {\n                color: \"grey\"\n              },\n              itemStyle: {\n                color: \"black\"\n              },\n              formatter: function formatter(value, name) {\n                return \"\".concat(value, \" \\u0442\\u044B\\u0441. \\u20BD\");\n              },\n              labelFormatter: function labelFormatter(value) {\n                return \"\\u0412\\u044B\\u0440\\u0443\\u0447\\u043A\\u0430 \\u0437\\u0430 \".concat(value, \" \\u0441\\u0435\\u043D\\u0442\\u044F\\u0431\\u0440\\u044F\");\n              }\n            }), /*#__PURE__*/_jsx(Area, {\n              type: \"monotone\",\n              dataKey: \"value\",\n              stroke: \"blue\",\n              fill: \"url(#colorValue)\"\n            })]\n          })\n        })]\n      });\n    }\n  }]);\n\n  return Graph;\n}(React.Component);\n\nvar mapStateToProp = function mapStateToProp(state) {\n  return {\n    update: state.firstGraph.update,\n    moneyEarlyState: state.firstGraph.moneyEarly\n  };\n};\n\nvar GraphContainer = connect(mapStateToProp, {\n  updateFirstAC: updateFirstAC\n})(Graph);","map":null,"metadata":{},"sourceType":"module"}